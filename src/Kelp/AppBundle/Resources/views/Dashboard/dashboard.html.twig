{% extends 'KelpAppBundle::base.html.twig' %}
{% block content %}
    <h1>Your Storage</h1>

    {% for type_storage in type_storages %}
        <div class="panel {{ 'panel-' ~ type_storage.class }}">
            <div class="panel-heading">
                <div class="pull-right">
                    <button class="btn btn-default btn-add-storage btn-xs pull-right"
                            data-url="{{ path('kelp.add.storage',{'id': type_storage.id}) }}">
                        <i class="fa fa-plus fa-lg" aria-hidden="true"></i>
                    </button>
                </div>
                <h3 class="panel-title">{{ type_storage.label }}</h3>

            </div>
            <div class="panel-body">
                {% for storage in storages if storage.typeStorage == type_storage %}
                    <div class="col-xs-3 col-xs-offset-1">
                        <div class="highlight">
                            <h2 class="text-center">{{  storage.label }}</h2>
                            <div class="text-center">
                                <div class="btn-group">
                                    <button class="btn btn-xs btn-default">
                                        <i class="fa fa-plus fa-lg" aria-hidden="true"></i>
                                    </button>
                                    <a href="#" class="btn btn-default btn-xs">
                                        <i class="fa fa-eye fa-lg" aria-hidden="true"></i>
                                        <span class="badge">0</span>
                                    </a>
                                    <button class="btn btn-xs btn-default btn-edit"
                                            data-url="{{ path('kelp.edit.storage',{'id': storage.id}) }}"
                                            data-label="{{ storage.label }}"
                                    >
                                        <i class="fa fa-pencil fa-lg" aria-hidden="true"></i>
                                    </button>
                                    <button class="btn btn-xs btn-danger btn-delete"
                                        data-url="{{ path('kelp.delete.storage',{'id': storage.id}) }}">
                                        <i class="fa fa-trash-o fa-lg" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}

            </div>
        </div>

    {% else %}
        Merci de choisir vos types de storages
    {% endfor %}
    {% include '@KelpApp/Dashboard/Modal/storage.html.twig' %}
    {% include '@KelpApp/Dashboard/Modal/user_type_storage.html.twig' %}
    {% set modal_parameters = {
    delete_title: 'Suppression d\'un storage',
    delete_question: 'Etes-vous s√ªr de vouloir supprimer ce storage?'
    } %}
    {% include'KelpAppBundle:Modal:modal_delete.html.twig' with modal_parameters only %}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    {% include("@js/Dashboard/dashboard.js.twig") %}
{% endblock %}